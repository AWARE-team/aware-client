//Uncomment to choose how to treat the project. Use it as a library for AWARE-applications or plugins
apply plugin: 'com.android.application' //AWARE is an application
//apply plugin: 'com.android.library' //AWARE is a library

configurations {
    wear
}

android {
    compileSdkVersion 21
    buildToolsVersion "21.1.2"
    defaultPublishConfig "phoneRelease"
    publishNonDefault true

    defaultConfig {
        applicationId "com.aware" //Comment for plugins/applications that use AWARE as a library
        versionCode 354
        versionName "3.2.2"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }
    productFlavors {
        wear {
            minSdkVersion 20
            targetSdkVersion 20
        }
        phone {
            minSdkVersion 10 //Android 2.3.3
            targetSdkVersion 21
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:21.0.3'
    compile 'com.android.support:gridlayout-v7:21.0.2'
    compile 'com.android.support:cardview-v7:21.0.2'
    compile 'com.github.machinarius:preferencefragment:0.1.1'
    phoneCompile 'com.android.support:support-v4:21.0.3'
    phoneCompile 'com.google.android.gms:play-services:6.5.87'
    wearCompile 'com.android.support:support-v13:21.0.2'
    wearCompile 'com.google.android.gms:play-services-wearable:6.5.87'
    wearCompile 'com.google.android.support:wearable:1.0.0'
    phoneWearApp project(path: ':aware-core', configuration: 'wearRelease') //Comment for plugins/applications that use AWARE as a library
}

// KEEP THE NEXT LINES COMMENTED OUT: Used to create AWARE's Maven Central library
//apply plugin: 'maven'
//apply plugin: 'signing'
//
//version = "3.2.2"
//group = "com.aware"
//
//configurations {
//    archives {
//        extendsFrom configurations.default
//    }
//}
//
//signing {
//    required { has("release") && gradle.taskGraph.hasTask("uploadArchives") }
//    sign configurations.archives
//}
//
//uploadArchives {
//    configuration = configurations.archives
//    repositories.mavenDeployer {
//        beforeDeployment { MavenDeployment deployment -> signing.signPom(deployment) }
//
//        repository(url: sonatypeRepo ) {
//            authentication(userName: sonatypeUsername, password: sonatypePassword)
//        }
//
//        pom.project {
//            name 'AWARE Library'
//            packaging 'aar'
//            description 'AWARE library for plugins and applications'
//            url 'http://www.awareframework.com'
//
//            scm {
//                url 'scm:git@github.com:denzilferreira/aware-client.git'
//                connection 'scm:git@github.com:denzilferreira/aware-client.git'
//                developerConnection 'scm:git@github.com:denzilferreira/aware-client.git'
//            }
//
//            licenses {
//                license {
//                    name 'The Apache Software License, Version 2.0'
//                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
//                    distribution 'repo'
//                }
//            }
//
//            developers {
//                developer {
//                    id 'denzilferreira'
//                    name 'Denzil Ferreira'
//                    email 'ferreiradenzil@gmail.com'
//                }
//            }
//        }
//    }
//}
